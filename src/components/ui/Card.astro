---
const { title, description, live, image, stack, github } = Astro.props;
import stacks from "@/collections/stack.json";
import Github from "@/components/icons/Github.astro";
import Arrow from "@/components/icons/Arrow.astro";

const projectStack = stacks.filter((tech) => {
    return stack.includes(tech.name);
});
---

<div
    class="group animate-slide-up border border-white/10 rounded-2xl overflow-hidden bg-white/5 backdrop-blur-sm hover:border-white/20 transition-all duration-500"
    style={"animationDelay: 0.1s"}
>
    <div class="relative overflow-hidden">
        <img
            src={image}
            alt={title}
            class="w-full h-64 object-cover group-hover:scale-105 transition-transform duration-700"
        />
        <div
            class="absolute inset-0 bg-black/20 group-hover:bg-black/40 transition-colors duration-300"
        >
        </div>
    </div>

    <div class="p-8 space-y-6">
        <h3
            class="text-xl font-semibold text-white group-hover:text-white/90 transition-colors"
        >
            {title}
        </h3>

        <p class="text-white/60 leading-relaxed text-sm">
            {description}
        </p>

        <div class="flex flex-wrap gap-2">
            {
                projectStack.map((tech: any) => (
                    <span class="px-3 py-1 text-xs bg-white/10 text-white/70 rounded-full border border-white/10 flex items-center">
                        <img
                            class="w-4 h-4 mr-1"
                            src={tech.icon}
                            alt={tech.name}
                        />
                        {tech.name}
                    </span>
                ))
            }
        </div>

        <div class="flex gap-4 pt-4">
            <a
                href={live}
                target="_blank"
                class="flex items-center gap-2 text-white/70 hover:text-white transition-colors text-sm"
            >
                Live Demo
                <Arrow class="w-4 h-4" />
            </a>

            <a
                href={github}
                target="_blank"
                rel="noopener noreferrer"
                class="flex items-center gap-2 text-white/70 hover:text-white transition-colors text-sm"
            >
                CÃ³digo
                <Github class="w-4 h-4" />
            </a>
        </div>
    </div>
</div>
